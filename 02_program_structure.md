# 2장. C 프로그램의 기본 구조

## 2.1 프로그램과 C 언어

본격적인 코드를 작성하기 전에, 우리가 지금 무엇을 하려는 것인지 잠시 짚고 넘어가자. 
우리는 '프로그래밍'을 배우려고 한다. 그렇다면 **프로그램**이란 도대체 무엇일까?

#### 프로그램(program)이란 무엇인가?

컴퓨터는 스스로 생각해서 움직이는 기계가 아니다. 
누군가 **무엇을, 어떻게 해라**라고 아주 구체적으로 시키지 않으면 아무것도 할 수 없는 깡통과 같다.

**프로그램**이란 컴퓨터에게 **어떤 일을 어떤 순서로 처리해라**라고 적어 놓은 작업 지시서다.

- 요리사가 **레시피**를 보고 요리를 하듯,
- 연주자가 **악보**를 보고 연주를 하듯,
- 컴퓨터는 **프로그램**을 보고 일을 한다.

즉, 우리가 프로그램을 짠다는 것은 컴퓨터에게 건네줄 **작업 지시서를 작성하는 행위**다.

#### 프로그래밍 언어란 무엇인가?

문제는 컴퓨터와 우리가 쓰는 언어가 다르다는 점이다. 
컴퓨터는 전압이 높다(1), 낮다(0)만 이해하는 기계어(0과 1)를 쓴다. 
반면 사람은 한국어나 영어를 쓴다.

컴퓨터에게 건네줄 작업 지시서를 0과 1로된 기계어로 작성하는 일은 사람에게 익숙하지 않은 일이기 때문에 비효율적이다. 
프로그래머들이 일을 생산적으로 할 수 있으려면 사람의 말을 컴퓨터가 알아들을 수 있는 말로 바꿔줄 통역 프로그램이 필요하다. 
그런데, 한국어로 적은 에세이를 보고 기계어를 작성하는 것은 통역 프로그램에게 너무 어려운 일이다. 

그래서 사람에게도 어느정도 익숙하고, 통역 프로그램도 보고 기계어를 작성하는 것이 가능한 중간 단계의 언어가 필요하다. 
그 역할을 하는 것이 바로 **프로그래밍 언어**다. 

우리가 프로그래밍 언어 문법에 맞춰 지시서를 작성하면, 컴퓨터는 그것을 번역해서 이해하고 실행한다.

#### 왜 하필 C 언어인가?
세상에는 파이썬, 자바, C++ 등 수많은 프로그래밍 언어가 있다. 그중에서 우리는 왜 C 언어를 배울까?

C 언어는 1972년에 태어난 오래된 언어지만, 여전히 컴퓨터의 가장 깊은 곳(**운영체제, 하드웨어 제어**)를 다루는 데 쓰이는 가장 강력한 언어다.

자동차로 비유하자면, 요즘 나오는 언어들이 '자율 주행 기능이 달린 최신 세단'이라면, C 언어는 그 자동차의 **엔진과 바퀴를 직접 만드는 기술**에 가깝다. 그래서 컴퓨터가 실제로 어떻게 작동하는지 배우기에 가장 좋은 언어다.

#### C 프로그램의 시작, `main`

다시 처음 질문으로 돌아가서, C 언어로 작업 지시서(프로그램)를 만들 때 가장 중요한 규칙은 무엇일까?

C 프로그램은 여러 부분으로 나뉘어 있지만, 컴퓨터는 항상 **정해진 한 지점부터** 읽기 시작한다.

그 시작점의 이름이 바로 `main`이다.

컴퓨터는 C 프로그램을 실행할 때,
- 먼저 `main`이라는 이름이 붙은 부분을 찾고
- 그 안에 적힌 내용부터 차례대로 실행한다

그래서 어떤 C 프로그램이든 반드시 `main`이라는 부분이 하나는 있어야 하며,  
여기에 프로그램의 시작 내용이 들어간다.

나중에 배우게 되겠지만,  
C 프로그램은 이런 실행 단위들이 여러 개 모여서 만들어진다.  
지금 단계에서는 **C 프로그램은 `main`에서 시작한다**는 사실만 기억하면 충분하다.

## 2.2 가장 단순한 C 프로그램

이번에는 실제로 C 프로그램이 어떻게 생겼는지,  
**가장 단순한 예제 하나**를 살펴보자.

```c
int main()
{
    return 0;
}
```

이 코드는 “아무 일도 하지 않고 바로 끝나는” C 프로그램이다.
하지만 C 프로그램의 기본 구조는 모두 이 안에 들어 있다.

먼저 `main`은 프로그램이 시작되는 곳의 이름이다.
컴퓨터는 C 프로그램을 실행할 때,
항상 `main`이라는 이름이 붙은 부분부터 실행한다.

`int`는 `main`이 정수 값을 하나 돌려준다는 뜻이다.
이 값은 프로그램이 끝났을 때 운영체제에게 전달되며,
프로그램이 어떻게 끝났는지를 알려주는 신호로 사용된다.

`main()`에서 괄호 안은 프로그램이 실행될 때 전달받는 값을 의미한다. 괄호 안이 비어 있는 것은
이 프로그램이 실행될 때 따로 전달받는 값이 없다는 뜻이다.

중괄호 `{ }`는
**여기부터 여기까지가 `main`의 내용이다**라는 표시다.
컴퓨터는 이 중괄호 안에 적힌 내용을
위에서 아래로 차례대로 실행한다.

`return 0;`은
프로그램을 여기서 끝내고, 0이라는 값을 돌려준다는 의미다.
관례적으로 0은
"문제없이 정상적으로 끝났다"는 뜻으로 사용된다.

정리하면, 이 프로그램의 실행 흐름은 다음과 같다.

`main`에서 실행을 시작한다

특별한 작업은 하지 않는다

`return 0;`으로 프로그램을 끝낸다

C 프로그램은 앞으로 어떤 기능을 추가하더라도,
항상 이 기본 구조를 바탕으로 내용을 하나씩 덧붙이는 방식으로 작성된다.

## 2.3 프로그램 맨 위에 쓰는 `#include`

C 프로그램을 보다 보면, 파일의 맨 위에 
다음과 같은 줄이 적혀 있는 경우가 많다.

```c
#include <stdio.h>
```

처음 C를 배우는 입장에서는
"이 줄은 실행되는 코드도 아닌 것 같은데, 왜 항상 맨 위에 있을까?"라는 의문이 들 수 있다.

이 줄은 `프로그램을 실행하기 전에 필요한 준비를 하는 역할`을 한다고 생각하면 된다.

#### `#include`는 무엇을 하는가

`#include`는
**이 프로그램에서 다른 파일의 내용을 함께 사용하겠다**는 뜻을 가진 지시문이다.

조금 더 풀어서 말하면, `#include <stdio.h>`는

- 이 프로그램을 처리하기 전에

- `<stdio.h>`라는 파일에 적혀 있는 내용을

- 지금 이 위치에 미리 가져다 놓는 것

이라고 이해하면 된다.

그래서 `#include`로 가져온 내용은 그 다음에 나오는 코드에서 이미 존재하는 것처럼 사용할 수 있다.

#### `<stdio.h>`는 어떤 파일인가

`<stdio.h>`는
화면에 글자를 출력하거나, 키보드로 입력을 받는 기능이 정리되어 있는 파일이다.

예를 들어, 나중에 다음과 같은 코드를 쓰게 되면,

`printf("Hello, C!\n");`

여기서 `printf`라는 이름은 `<stdio.h>` 안에 미리 정리되어 있다.

즉, `#include <stdio.h>`는 컴퓨터에게 이렇게 말하는 것과 같다.

"이 프로그램에서는 입출력과 관련된 기능을 사용할 것이다."

#### 왜 프로그램의 맨 위에 쓰는가

이런 준비는
**프로그램의 내용을 해석하기 전에 먼저 이루어져야 한다.**

그래야 아래쪽에서

- `printf` 같은 이름을 사용했을 때

- "이게 무엇인지"를 미리 알고 처리할 수 있다.

그래서 `#include` 같은 지시문들은
보통 **프로그램의 맨 위에 작성하는 것이 관례**다.

#### 지금 단계에서 기억할 것

지금 단계에서 기억할 것

이 절에서 꼭 기억해야 할 것은 다음 세 가지다.

- `#include`는 **다른 파일의 내용을 미리 가져오는 역할**을 한다

- `<stdio.h>`에는 **입출력과 관련된 기본 기능**이 들어 있다

- 이런 지시문들은 **프로그램의 맨 위에 작성한다**

이 작업이 정확히 언제, 어떤 단계에서 이루어지는지는
뒤에서 다시 정리한다.

## 2.4 중괄호 `{ }`와 실행 범위

앞에서 본 예제에는 항상 중괄호 `{ }`가 등장했다.

```c
int main()
{
    return 0;
}
```

이 중괄호는 C 프로그램에서 아주 중요한 역할을 한다.

#### 중괄호 `{ }`는 무엇을 의미하는가

중괄호 { }는
**여기부터 여기까지가 하나의 묶음이다**라는 표시다. 컴퓨터는 이 표시를 보고, 어떤 코드들이 함께 실행되는지를 판단한다.

C언어에서는 이렇게 중괄호로 묶임 코드 뭉치를 블록(Block)이라고 부른다.

#### 왜 이런 묶음이 필요한가

프로그램을 작성하다 보면,
- 조건에 따라 실행할 코드가 달라지거나
- 어떤 작업을 여러 줄에 걸쳐 수행해야 할 때가 많다.

이때 C는
**이 부분은 함께 실행해야 한다**는 것을
중괄호로 명확하게 표시하게 한다.

예를 들어, `main`의 내용도
중괄호로 묶여 있기 때문에
컴퓨터는 "이 안에 있는 것이 `main`의 내용이다"라고 이해한다.

#### 중괄호 안에서만 유효한 것들

중괄호 `{ }`로 묶인 영역 안에서는  
**그 안에서만 잠시 쓰는 이름**을 만들 수 있다.

다음 **가상 코드**로 상황을 먼저 이해해 보자.

```c
int main()
{
    여기에서만 쓰는 이름을 만든다
    그 이름을 사용해서 어떤 일은 한다
}

여기서는 방금 만든 이름을 사용할 수 없다
```


컴퓨터는 이 규칙을 이렇게 이해한다.

- `{`를 만나면  
  → 이 안에서만 쓰는 것들이 시작된다
- `}`를 만나면  
  → 이 안에서만 쓰던 것들은 여기서 끝난다

그래서 어떤 이름을 `{ }` 안에서 만들었다면,  
그 이름은 `{ }` 밖에서는 더 이상 의미를 가지지 않는다.

## 2.5 문장과 실행 순서

지금까지 C 프로그램이 
- 어디서 시작하는지 (`main`)
- 어떤 범위가 함께 묶이는지(`{ }`)
를 봤고,
이번에는 **`{ }`안에 적힌 내용이 어떤 순서로 실행되는지**를 보자.

#### 실행의 기본 단위

우리가 친구에게 생각을 전할 때 **문장**으로 말하듯이, 컴퓨터에게 명령을 내릴 때도 문장을 사용한다.

C 프로그램 안에는 컴퓨터에게 **이것을 계산해서 화면에 결과를 보여줘라**와 같이 
구체적인 행동을 지시하는 명령들이 들어 있다. 
실행 지시 하나하나를 **문장(statement)**이라고 부른다.

#### 실행 순서

우리가 책을 읽을 때 첫 번째 줄부터 차례대로 아래로 읽어 내려가듯이, 
컴퓨터도 코드를 읽을 때 위에서 아래 방향으로 움직인다.

특히 중괄호 { } 안에 적힌 문장들은 그 순서가 매우 중요하다. 다음 가상 코드를 보자.

```c
int main()
{
    첫 번째 문장
    두 번째 문장
    세 번째 문장
}
```

컴퓨터는 이 코드를 절대 뒤죽박죽 실행하지 않는다.

1. 가장 위에 있는 **첫 번째 문장**을 먼저 처리하고,

2. 그 작업이 끝나면 **두 번째 문장**으로 넘어가며,

3. 마지막으로 **세 번째 문장**을 실행한다.

즉, 프로그래머가 **작성한 순서가 곧 실행 순서**가 된다.

#### 실행 순서가 바뀔 때

시냇물이 흐르다가 바위를 만나면 갈라지거나, 웅덩이에서 잠시 머무는 것처럼 
프로그램의 실행 순서도 바뀔 때가 있다.

프로그램을 작성하다 보면 다음과 같은 상황이 꼭 필요하기 때문이다.

- **갈림길**: 상황에 따라 다른 작업을 해야 할 때

- **제자리 돌기**: 특정 작업을 여러 번 반복해야 할 때

흐름을 제어하는 특별한 문장을 쓰면 실행 순서를 바꿀 수 있다. 


## 2.6 들여쓰기와 코드 읽기 규칙

책을 읽을 때 문단이 나뉘어 있지 않고 빽빽하게 붙어 있다면 읽기 힘들 것이다. 코드도 마찬가지다. 

```c
int main()
{
    어떤 문장
    또 다른 문장
}
```

이렇게 줄을 안쪽으로 밀어서 쓰는 것을 `들여쓰기`라고 한다.

중요한 점부터 말하면, 

**C 언어에서 들여쓰기는 문법 규칙이 아니다.**

- 들여쓰기를 하지 않아도,
- 띄어쓰기 (space 키)를 여러번 해도,
- 줄 바꿈을 하지 않고 한 줄에 다 써도,

프로그램의 동작이나 의미는 바뀌지 않는다.

그런데도 들여쓰기를 하는 이유는 사람이 코드를 읽기 쉽게 만들기 위해서다. 

#### 들여쓰기는 구조를 보여주는 표시다

앞서 본 것처럼 C 프로그램은 중괄호 `{ }`로 실행 범위를 나눈다. 

들여쓰기는 이 중괄호 구조를 **눈으로 바로 알아볼 수 있게 보여주는 시각적 장치**다. 

예를 들어, 들여쓰기를 하지 않았을 때, 
```c
{
첫 번째 문장
{
두 번째 문장
}
세 번째 문장
}
```
보다 들여쓰기를 했을 때,
```c
{
    첫 번째 문장
    {
        두 번째 문장
    }
    세 번째 문장
}
```
코드의 의미는 같지만 구조를 이해하기가 훨씬 쉽다. 

#### 들여쓰기의 기본 규칙
C 코드에서 가장 널리 쓰이는 들여쓰기 규칙은 다음과 같다

- 중괄호 `{ }` 안에 들어가면 한 단계 들여쓴다
- 보통 한 단계는 4칸 또는 탭 1번

들여쓰기를 일정하게 맞추면 어느 문장이 어디에 속해 있는지가 시각적으로 드러나기 때문에 코드가 길어져도 구조를 잃지 않는다.

## 2.7 C 프로그램은 어떻게 실행 파일이 되는가

메모장이나 에디터에 적은 C 코드는 **영어 단어들이 적힌 텍스트 파일**일 뿐이다. 컴퓨터는 0과 1밖에 모르기 때문에, 
이 영어 문장(`printf`, `int` 등)을 당장 이해할 수 없다. 

그럼, 우리가 작성한 C 코드는 어떻게 실제로 실행되는 프로그램이 되는 것일까?

우리가 짠 코드를 컴퓨터가 이해할 수 있는 기계어(0과 1)로 번역해주는 과정이 필요하다. 
보통 다음과 같은 3단계로 나뉘어 진행된다.

#### 1) 텍스트 전처리

먼저 프로그램의 맨 위에 있던 내용들이 처리된다. 

- `#include`로 다른 파일의 내용을 가져오고
- 미리 약속된 규칙들을 정리한다

끝나고 나면 기계어 번역에 필요한 텍스트 전체가 확보된다.

#### 2) 기계어 만들기

그 다음, 준비된 코드를 바탕으로
- 문법이 맞는지 확인하고
- 프로그램의 구조를 분석한 뒤
- 컴퓨터가 이해할 수 있는 형태로 바꾸는 작업이 이루어진다

만약 코드에 오류가 있으면,
프로그램은 실행 파일로 만들어지지 않는다.
C 코드 텍스트로부터 기계어를 만드는 것을 전문 용어로 컴파일(compile)이라고 한다.

#### 3) 기계어 모으기

프로그램을 만들 때 모든 코드를 매번 새로 짜서 기계어로 만들지 않는다.
반복되는 파트는 기계어로 따로 만들어서 재사용한다. 
마지막 단계에서 실제로 실행하는데 필요한 기계어를 모두 모아서 실행 파일을 만든다. 

필요한 기계어들을 모아서 실행 가능한 파일을 만드는 것을 전문 용어로 링크(link)라고 한다.

---

## ✔ 2장 요약

이 장에서는 C 프로그램이 어떤 모양으로 시작하고, 어떤 규칙으로 읽히는지 살펴보았다.

- C 프로그램은 항상 `main`에서 시작한다.
- C 프로그램은 중괄호 `{ }`로 “함께 묶이는 범위”를 표시한다.
- `{ }`로 묶인 코드 덩어리를 **블록(block)**이라고 부른다.
- 블록 안의 문장들은 보통 **위에서 아래 순서대로 실행**된다.
- 들여쓰기는 컴퓨터를 위한 규칙이 아니라, **사람이 읽기 쉽게 하기 위한 습관**이다.
- `#include`는 프로그램에서 필요한 내용을 **미리 준비**하기 위한 지시문이다.
- C 코드는 바로 실행되지 않으며, 실행 파일이 되기 위해 **컴파일 과정**을 거친다.
- 컴파일 과정은 보통 **전처리 → 컴파일 → 링크** 단계로 이루어진다.

---

## ✔ 체크 질문

1. C 프로그램은 어디에서 실행을 시작하는가? 그 이름은 무엇인가?
2. 중괄호 `{ }`는 코드에서 어떤 역할을 하는가?
3. `{ }`로 묶인 코드 덩어리를 무엇이라고 부르는가?
4. 블록 안에 여러 문장이 있을 때, 기본적인 실행 순서는 어떻게 되는가?
5. 들여쓰기는 C 문법의 일부인가? 들여쓰기를 하는 이유는 무엇인가?
6. `#include`는 프로그램에서 어떤 “준비”를 하는가?
7. C 코드는 왜 바로 실행되지 않는가?
8. 컴파일 과정은 보통 어떤 단계들로 나뉘는가?
9. 링크(link)는 무엇을 하기 위한 단계인가?
10. 이 장에서 배운 내용 중, “컴퓨터가 이해하기 위한 규칙”과 “사람이 읽기 위한 습관”을 각각 하나씩 들어보자.

---
